npx create-next-app@latest ai-interview-platform `
  --ts `
  --tailwind `
  --eslint `
  --app `
  --src-dir `
  --import-alias "@/*"


cd ai-interview-platform


npm i -D prisma@^6 tsx
npm i @prisma/client@^6 zod


DATABASE_URL="mysql://root:1234@localhost:3306/ai_interview"


npx prisma init


// prisma/schema.prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}


npx prisma migrate dev --name init


Hardcoded db seed: npx tsx prisma/seed.ts

Create Prisma singleton in src/lib/prisma.ts

Create cookie check middleware src/proxy.ts (new name->proxy.ts   old name->middleware.ts functionality is same, diff is just the naming)

(creates user + interview session) src/app/api/session/start/route.ts

Update src/app/page.tsx with actual POST method

Create src/app/session/[id]/page.tsx to get redirected to this page after start session

Create src/app/api/session/[id]/question/route.ts - GET API route to get 1 question for a session (this will be tiggered by src/app/session/[id]/page.tsx page)

Create src/app/api/session/[id]/attempt/route.ts - POST API route to sumbit attempted answer (this will be tiggered by src/app/session/[id]/page.tsx page "Attempt Button")

Update src/app/session/[id]/page.tsx page to handle interaction with get question route and attempt answer route


npm i @upstash/redis

Create redis client in src/lib/redis.ts

Quota helper (3/day) using redis sin rc/lib/quota.ts

Update file: src/app/api/session/start/route.ts  + Quota check


npm i @google/genai 
npm i zod-to-json-schema 

Create sha256 hashing util in src/lib/hash.ts

npm install zod@3   ->Downgraded to zod@3 since there is safe problem with zodToJsonSchema(EvaluationSchema) coversion

Create Gemini to evaluate question+answer in src/lib/gemini.ts

To Set or Retrieve gemini Evaluated Answer stored in Redis Cache with hashed key in src/lib/evalCache.ts

Update Session Page to load the evaluation result in src\app\session\[id]\page.tsx 


Create End session API in src/app/api/session/[id]/end/route.ts

Create History Page

Create Analytic Page 


Create tiny sleep helper(global setTimout) to prevent Submit spam src/lib/sleep.ts

Redis lock helper to identify and lock submit req if current req lockkey name was already requested for submit button src/lib/redisLock.ts

Update questions route for “No repeats” question picking (within a session): src/app/api/session/[id]/question/route.ts













